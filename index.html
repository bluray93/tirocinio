<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <script>
  			var socket = new WebSocket( "ws://" + document.domain + ':' + location.port, "example-protocol" );
        function update(msg) { document.getElementById("data").innerHTML = msg; }
        socket.onopen = function() { console.log("socket open"); update("open"); }
        socket.onclose = function() { console.log("socket close"); update("closed"); }
        socket.onmessage = function(msg) { console.log("socket message: " + msg.data); update(msg.data); }

				function send(){
					socket.send(document.getElementById('testo').value);
				}
        function pressed(e) {
            // Has the enter key been pressed?
            if ( (window.event ? event.keyCode : e.which) == 13) {
                // If it has been so, manually submit the <form>
                send();
            }
        }
        </script>
    </head>
    <body>
	  Write command<br/>
     <tr>
		  <td> <input type="text" id="testo" onkeydown="pressed(event)"></td>
		  <td> <button type="button" onclick="send()">Send</button></td>
		</tr>
    <p>Response</p>
    <p id="data"></p>
    <p>
</body>
</html>
